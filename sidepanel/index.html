<!doctype html>
<html>
  <head>
    <link rel="stylesheet" type="text/css" href="index.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
  </head>
  <body>
    <div id="status" class="status-box" hidden>
      <p></p>
    </div>
    
    <div class="button-row">
      <button id="button-organize" class="primary">Organize My Tabs</button>
      <button id="button-stop" class="secondary" hidden>Stop</button>
      <button id="button-ungroup" class="secondary">Ungroup All</button>
      <button id="button-undo" class="icon-only" disabled title="Undo">
        <i class="bi bi-arrow-counterclockwise"></i>
      </button>
      <button id="button-redo" class="icon-only" disabled title="Redo">
        <i class="bi bi-arrow-clockwise"></i>
      </button>
      <button id="button-settings" class="icon-only" title="Settings">
        <i class="bi bi-gear"></i>
      </button>
    </div>
    
    <div id="tab-list-container">
      <div class="section-header">
        <h2>Your Tabs</h2>
        <button id="button-refresh" class="icon-button">
          <i class="bi bi-arrow-clockwise"></i> Refresh
        </button>
      </div>
      <div id="tab-list"></div>
    </div>
    
    
    <div id="results" class="text" hidden></div>
    <div id="error" class="text error" hidden></div>
    
    <!-- Settings Modal -->
    <div id="settings-modal" class="modal" hidden>
      <div class="modal-overlay"></div>
      <div class="modal-content">
        <div class="modal-header">
          <h3>Settings</h3>
          <button id="modal-close" class="modal-close">
            <i class="bi bi-x-lg"></i>
          </button>
        </div>
        <div class="modal-body">
          <div class="settings-section">
            <label>AI Model Provider:</label>
            <div class="toggle-container">
              <label class="toggle-option">
                <input type="radio" name="model-provider" value="on-device" id="provider-on-device" checked>
                <span>On-Device Model</span>
              </label>
              <label class="toggle-option">
                <input type="radio" name="model-provider" value="openrouter" id="provider-openrouter">
                <span>OpenRouter API</span>
              </label>
            </div>
          </div>
          
          <div class="settings-section" id="openrouter-settings" hidden>
            <label for="openrouter-api-key">OpenRouter API Key:</label>
            <input 
              type="password" 
              id="openrouter-api-key" 
              placeholder="sk-or-v1-..."
              autocomplete="off"
            />
            <small class="help-text">Get your API key from <a href="https://openrouter.ai/keys" target="_blank">openrouter.ai/keys</a></small>
          </div>
          
          <div class="settings-section">
            <label for="custom-instruction">Custom Instructions:</label>
            <textarea 
              id="custom-instruction" 
              placeholder="e.g., Group all GitHub tabs together, keep social media separate..."
              rows="4"
            ></textarea>
          </div>
          
          <button id="button-reset" class="secondary">Reset Plugin</button>
        </div>
      </div>
    </div>
    
    <script src="index.js" type="module"></script>
  </body>
</html>
